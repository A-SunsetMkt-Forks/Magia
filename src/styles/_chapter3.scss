.chapter3 {

}

.chapter3-character-box {
  width: 120%;
  height: 40vmin;
  position: absolute;
  left: calc(50% - 60%);
  top: calc(50% - 20vmin);
  opacity: 0;
  overflow: hidden;

  .chapter3-character-mask {
    position: absolute;
    left: 0;
    width: 100%;
    height: 50%;
  }
  .chapter3-character-mask1 {
    top: 0;
  }
  .chapter3-character-mask2 {
    bottom: 0;
  }
  .chapter3-character {
    background-position-x: center;
    background-repeat: no-repeat;
    background-repeat: no-repeat;
    position: absolute;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
  }
}
// part1
.chapter3-open1 {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
  display: flex;

  span {
    width: 12.5%;
    height: 100%;
    position: relative;
    display: inline-block;
    background-color: $theme-blue;
    transform: translateY(-100%);
  }
}
.chapter3-character-box1 {
  transform: rotate(-5deg);

  .chapter3-character-mask {
    background-color: $theme-blue;
  }

  .chapter3-character1 {
    background-image: url('/img/character-blue.png');
    background-position-y: top calc(10%);
    background-size: 30%;
    background-color: #fff;
  
    @media screen and (max-width: 750px) {
      background-size: 60%;
    }
  }
}
// part2
.chapter3-open2 {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
  display: flex;

  span {
    width: 12.5%;
    height: 100%;
    position: relative;
    display: inline-block;
    background-color: $theme-red;
    transform: translateY(100%);
  }
}
.chapter3-character-box2 {
  // transform: rotate(-5deg);

  .chapter3-character-mask {
    background-color: $theme-red;
  }

  .chapter3-character2 {
    background-image: url('/img/character-red.png');
    background-position-y: top calc(10%);
    background-size: 30%;
    background-color: #fff;
  
    @media screen and (max-width: 750px) {
      background-size: 60%;
    }
  }
}
// part3

/* Animations */
// group1
.chapter3-open1 {
  @for $i from 1 through 8 {
    span:nth-child(#{$i}) {
      animation: top-slide-in .4s ease #{($i - 1) * 0.1}s forwards;
    }
  }
}
.chapter3-character-box1 {
  $animation-time: .6;
  $animation-delay: 1.1;

  animation: fadein .1s ease #{$animation-delay}s forwards;

  .chapter3-character-mask1 {
    animation: top-slide-out #{$animation-time}s ease #{$animation-delay}s forwards, top-slide-in #{$animation-time - .1}s ease #{$animation-delay + 0.2 + $animation-time}s forwards;
  }

  .chapter3-character-mask2 {
    animation: bottom-slide-out #{$animation-time}s ease #{$animation-delay}s forwards, bottom-slide-in #{$animation-time - .1}s ease #{$animation-delay + 0.2 + $animation-time}s forwards;
  }
}

// group2
.chapter3-open2 {
  @for $i from 1 through 8 {
    span:nth-child(#{$i}) {
      animation: bottom-slide-in .4s ease #{0.7 - (($i - 1) * 0.1) + 2.4}s forwards;
    }
  }
}
.chapter3-character-box2 {
  $animation-time: .6;
  $animation-delay: 3.5;
  
  animation: fadein .1s ease #{$animation-delay}s forwards;

  .chapter3-character-mask1 {
    animation: top-slide-out #{$animation-time}s ease #{$animation-delay}s forwards, top-slide-in #{$animation-time - .1}s ease #{$animation-delay + 0.2 + $animation-time}s forwards;
  }

  .chapter3-character-mask2 {
    animation: bottom-slide-out #{$animation-time}s ease #{$animation-delay}s forwards, bottom-slide-in #{$animation-time - .1}s ease #{$animation-delay + 0.2 + $animation-time}s forwards;
  }
}